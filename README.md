#  Default3DGamePackage (Unity)

**Unityì—ì„œ 3D ê²Œì„ì„ ê°œë°œ í•  ë•Œ ê¸°ë³¸ í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬**ë¡œ ì“°ë„ë¡ ë§Œë“ ,  
ì‹¬í”Œí•˜ì§€ë§Œ 3D ê²Œì„ì„ ë§Œë“¤ ë•Œ ë¹ ë¥´ê²Œ ê°€ì ¸ê°€ ìˆ˜ì • ë° í™•ì¥í•˜ê¸° ìœ„í•´ ë§Œ **FSM ê¸°ë°˜ 3D ìºë¦­í„° ì»¨íŠ¸ë¡¤ëŸ¬**ì…ë‹ˆë‹¤.

BlendTree ì—†ì´ **Animator Bool íŒŒë¼ë¯¸í„°ë§Œìœ¼ë¡œ ìƒíƒœ ì „í™˜**,  
**CharacterController** ê¸°ë°˜ì˜ ì¶©ëŒ/ì´ë™, **ì¹´ë©”ë¼ ìƒëŒ€ ì´ë™**,  
**ì í”„ / ë‚™í•˜ / ì ‘ì§€ íŒì •**, **Shift ê±·ê¸°/ë‹¬ë¦¬ê¸° í† ê¸€**ì„ ê¸°ë³¸ ì œê³µí•©ë‹ˆë‹¤.

---
## ğŸ’¡ ì™œ Rigidbodyê°€ ì•„ë‹Œ CharacterControllerì¸ê°€?

> â€œí”Œë ˆì´ì–´ì˜ ì›€ì§ì„ì€ â€˜ë¬¼ë¦¬ ë°˜ì‘â€™ë³´ë‹¤ â€˜ì˜ë„ëœ ì œì–´ê°â€™ì´ ì¤‘ìš”í–ˆìŠµë‹ˆë‹¤.â€

RigidbodyëŠ” í˜„ì‹¤ì ì¸ ë¬¼ë¦¬ë¥¼ í‘œí˜„í•˜ê¸°ì—” ì¢‹ì§€ë§Œ,  
í”Œë ˆì´ì–´ ì¡°ì‘ì— í•„ìš”í•œ **ì •í™•í•œ ë°©í–¥ ì œì–´ / ì¦‰ì‹œ ì •ì§€ / ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì í”„ íƒ€ì´ë°**ì„ ë³´ì¥í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.  
CharacterControllerëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì¶©ëŒ/ì¤‘ë ¥ì„ ì²˜ë¦¬í•˜ë©´ì„œë„  
ê°œë°œìê°€ ì§ì ‘ ì†ë„ ë²¡í„°ë¥¼ ì™„ì „íˆ ì œì–´í•  ìˆ˜ ìˆì–´,  
**â€œì¦‰, Unity ë¬¼ë¦¬ ì‹œìŠ¤í…œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ì›€ì§ì„ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ê³ ì•ˆ ë˜ì—ˆìœ¼ë©°, ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ì´ ì•„ë‹ˆë¼ ê²Œì„ ê°ê° ì¤‘ì‹¬â€**ì˜ í”Œë ˆì´ì–´ ì¡°ì‘ì„ êµ¬í˜„í•˜ê¸°ì— ìµœì ì…ë‹ˆë‹¤.

- âœ… ì™„ë²½í•œ ì…ë ¥ ì‘ë‹µì„± (Input â†’ ì´ë™ ë°˜ì‘ê¹Œì§€ ì§€ì—° ìµœì†Œ)
- âœ… ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì í”„ / ë‚™í•˜ ê³¡ì„ 
- âœ… ìŠ¬ë¼ì´ë”©/ê²½ì‚¬/ê³„ë‹¨ ì´ë™ì„ ê°„ë‹¨íˆ ì œì–´ ê°€ëŠ¥
- âœ… ë„¤íŠ¸ì›Œí¬/ì‹±ê¸€ ì–‘ìª½ì—ì„œ ë™ê¸°í™”ê°€ ì‰¬ì›€ (Deterministic Movement)

ê²°ë¡ ì ìœ¼ë¡œ,  
> RigidbodyëŠ” â€œë¬¼ë¦¬ ìºë¦­í„°ìš©â€,  
> CharacterControllerëŠ” â€œì¡°ì‘ ê°€ëŠ¥í•œ í”Œë ˆì´ì–´ìš©â€.

ì´ í”„ë¡œì íŠ¸ëŠ” **ê²Œì„ì  ì œì–´ê°**ì„ ìš°ì„ ì‹œí•˜ê¸° ìœ„í•´ `CharacterController` ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## âš™ï¸ í•µì‹¬ íŠ¹ì§•

- ğŸ§± **ì •ì„ FSM êµ¬ì¡°**  
  `StateMachine<T>` + `IState<T>` + êµ¬ì²´ ìƒíƒœ(Idle / Move / Jump / Fall)  
  ê° ìƒíƒœëŠ” ì…ë ¥ / ì• ë‹ˆ / ë¬¼ë¦¬ë¥¼ **ìê¸° ì±…ì„ ì•ˆì—ì„œ** ì²˜ë¦¬.

- ğŸ§  **AnimatorëŠ” Boolë§Œ ì‚¬ìš©**  
  `Idle`, `Walk`, `Run`, `Jump`, `Fall` 5ê°œ Boolì„ **one-hot**ìœ¼ë¡œ ì „í™˜.  
  BlendTree ë¶ˆí•„ìš”.

- ğŸ•¹ï¸ **ì…ë ¥ ì •ì±… (ê¸°ë³¸ê°’)**  
  `Horizontal`, `Vertical`, `LeftShift`, `Space`  
  â€” `BasePlayerController`ì— ìº¡ìŠí™”ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì†ì‰½ê²Œ êµì²´ ê°€ëŠ¥.

- ğŸ¥ **ì¹´ë©”ë¼ ìƒëŒ€ ì´ë™ + ìì—°ìŠ¤ëŸ¬ìš´ íšŒì „**  
  ì¹´ë©”ë¼ Forward/Right í‰ë©´ íˆ¬ì˜ìœ¼ë¡œ ì´ë™ ë°©í–¥ ê³„ì‚°.  
  `Quaternion.Slerp`ë¡œ íšŒì „ ë³´ì •.

- ğŸª‚ **ì ‘ì§€ / ì¤‘ë ¥ / ì í”„ ì™„ë¹„**  
  `CharacterController.isGrounded` + `CheckSphere` ë³´ì¡° ì ‘ì§€.  
  ì°©ì§€/ë‚™í•˜/ì í”„ ìƒíƒœ ì „í™˜ ì •ë°€ ì œì–´.

---

```## ğŸ“‚ í´ë” êµ¬ì¡°

/Scripts
â”œâ”€ Common
â”‚ â””â”€ Define
â”‚ â””â”€ Define.cs // ê³µìš© enum/ìƒìˆ˜ (PlayerState ë“±)
â”‚
â””â”€ Player
â”œâ”€ BasePlayerController.cs // ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬: CC/ì…ë ¥/ì• ë‹ˆ/ì¤‘ë ¥/FSM ì†Œìœ 
â”‚
â””â”€ State
â”œâ”€ StateMachine.cs // ê²½ëŸ‰ FSM êµ¬í˜„ (ChangeState/Update)
â”œâ”€ IState.cs // ìƒíƒœ ì¸í„°í˜ì´ìŠ¤ (OnEnter/OnExit/OnUpdate)
â”œâ”€ IStateMachine.cs // FSM ì¸í„°í˜ì´ìŠ¤
â”‚
â”œâ”€ Base
â”‚ â””â”€ PlayerBaseState.cs // ê³µí†µ ìœ í‹¸(ì´ë™/íšŒì „/ì¤‘ë ¥/ì• ë‹ˆ í—¬í¼)
â”‚
â”œâ”€ IdleState.cs // ì •ì§€: ì…ë ¥ ì‹œ Move, ì í”„ ì‹œ Jump, ë‚™í•˜ ì‹œ Fall
â”œâ”€ MoveState.cs // ì´ë™: Shift=Walk/Run ìŠ¤ìœ„ì¹­, ì „ì´ íŒì •
â”œâ”€ JumpState.cs // ì í”„: ì´ˆê¸° ìƒìŠ¹ì†ë„, ì œìë¦¬ ì í”„ ì²˜ë¦¬, ìƒìŠ¹â†’í•˜ê°• ì „ì´
â””â”€ FallState.cs // ë‚™í•˜: ê³µì¤‘ ì´ë™/íšŒì „, ì ‘ì§€ ì‹œ Idle/Move ë¶„ê¸°
```
---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (Quick Start)

1. **ë¹ˆ GameObject**ì— `CharacterController`ì™€ `BasePlayerController`ë¥¼ ë¶™ì…ë‹ˆë‹¤.
2. **Animator Controller**ì— ì•„ë˜ Bool íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€:
   - `Idle`, `Walk`, `Run`, `Jump`, `Fall`, *(ì„ íƒ)* `Grounded`
3. `BasePlayerController` ì¸ìŠ¤í™í„°ì—ì„œ:
   - Speed, Rotation, Gravity ë“± ìˆ˜ì¹˜ ì¡°ì •
   - Animator / Camera Transform ì°¸ì¡° ì„¤ì •
4. ì‹¤í–‰ â†’ `Idle â†’ Move / Jump / Fall` ìë™ ì „ì´ í™•ì¸.

---

## ğŸ§© ìƒíƒœ ì „ì´ ìš”ì•½

| ìƒíƒœ | ì „ì´ ì¡°ê±´ | íŠ¹ì§• |
|------|------------|------|
| **Idle** | ì…ë ¥ ë°œìƒ â†’ Move<br>Space â†’ Jump<br>ë¹„ì ‘ì§€ â†’ Fall | ì •ì§€ ì¤‘ì—ë„ ì¤‘ë ¥ ìœ ì§€ |
| **Move** | ì…ë ¥ ì—†ìŒ â†’ Idle<br>Space â†’ Jump<br>ë¹„ì ‘ì§€ â†’ Fall | Shiftì— ë”°ë¼ Walk/Run |
| **Jump** | ìƒìŠ¹ ì¢…ë£Œ í›„ â†’ Fall | ì œìë¦¬ ì í”„ ê°€ëŠ¥ |
| **Fall** | ì ‘ì§€ â†’ Idle / Move | ë‚™í•˜ ì¤‘ì—ë„ ì´ë™/íšŒì „ í—ˆìš© |

---

## ğŸï¸ Animator ì„¸íŒ… ê°€ì´ë“œ

- íŒŒë¼ë¯¸í„°: `Idle`, `Walk`, `Run`, `Jump`, `Fall`, *(ì„ íƒ)* `Grounded`
- ê° Stateì˜ ì „ì´ ì¡°ê±´ì„ í•´ë‹¹ Bool == true ë¡œ ì„¤ì •.
- ì½”ë“œì—ì„œ one-hot ê´€ë¦¬ â†’ íŠ¸ë¦¬ê±° í•„ìš” ì—†ìŒ.
- ë‚™í•˜/ì°©ì§€ ì „í™˜ ì‹œ ìì—°ìŠ¤ëŸ½ê²Œ Idle/Moveë¡œ ë³µê·€.

---

## ğŸ§­ ì´ë™ / íšŒì „ / ì¤‘ë ¥ ë””í…Œì¼

- **ì¹´ë©”ë¼ ìƒëŒ€ ì´ë™**  
  ì¹´ë©”ë¼ì˜ Forward/Rightë¥¼ í‰ë©´ì— íˆ¬ì˜í•´ ì…ë ¥ ë°©í–¥ ê³„ì‚°.
- **íšŒì „**  
  `Quaternion.Slerp`ë¡œ ë¶€ë“œëŸ½ê²Œ ë³´ê°„, ì…ë ¥ ë¯¸ì„¸ ì‹œ íšŒì „ ìƒëµ.
- **ì¤‘ë ¥/ì ‘ì§€**  
  - ì ‘ì§€ ì‹œ: `groundedGravity` (ì‘ì€ ìŒìˆ˜) ì ìš©  
  - ë¹„ì ‘ì§€ ì‹œ: `gravity` ì ë¶„  
  - `CheckSphere`ë¡œ ê²½ì‚¬/ê³„ë‹¨ì—ì„œë„ ì•ˆì •ì  íŒì •.
- **ê³„ë‹¨ ì´ë™**  
  `CharacterController.stepOffset`, `slopeLimit` ê°’ìœ¼ë¡œ ì œì–´.

---

## ğŸ§± BasePlayerController ì£¼ìš” ë³€ìˆ˜

| êµ¬ë¶„ | ë³€ìˆ˜ëª… | ì„¤ëª… |
|------|--------|------|
| ì†ë„ | `runSpeed`, `walkSpeed` | ë‹¬ë¦¬ê¸° / ê±·ê¸° ì†ë„ |
| íšŒì „ | `rotationSpeed` | íšŒì „ ì†ë„ |
| ì í”„ | `jumpSpeed` | ì´ˆê¸° ì í”„ ìƒìŠ¹ì†ë„ |
| ì¤‘ë ¥ | `gravity`, `groundedGravity` | ì¤‘ë ¥ ê³„ìˆ˜ |
| ì ‘ì§€ | `groundMask`, `groundCheckRadius`, `groundCheckOffset` | ì§€ë©´ íŒì • |
| ì¹´ë©”ë¼ | `cameraTransform` | ìƒëŒ€ ì´ë™ ê¸°ì¤€ |
| ì• ë‹ˆ | `pIdle`, `pWalk`, `pRun`, `pJump`, `pFall`, `pGrounded` | Animator Bool íŒŒë¼ë¯¸í„°ëª… |

---

## ğŸ”Œ ì…ë ¥ í•¨ìˆ˜

| í•¨ìˆ˜ | ì„¤ëª… |
|------|------|
| `ReadMoveInput()` | Horizontal/Vertical ì…ë ¥ ë²¡í„° |
| `WalkHeld()` | Shift ì…ë ¥ ì—¬ë¶€ |
| `JumpPressed()` | Space ì…ë ¥ ì—¬ë¶€ |

> ìƒˆ Input System / ëª¨ë°”ì¼ ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ êµì²´ ì‹œ ì´ í•¨ìˆ˜ë“¤ë§Œ ìˆ˜ì •í•˜ë©´ ë¨.

---

## ğŸ§° ì»¤ìŠ¤í„°ë§ˆì´ì§• í¬ì¸íŠ¸

- **ì…ë ¥ êµì²´** â†’ `BasePlayerController`ì˜ 3ê°œ ì…ë ¥ í•¨ìˆ˜ ìˆ˜ì •  
- **ì• ë‹ˆ íŒŒë¼ë¯¸í„°ëª… ë³€ê²½** â†’ ì¸ìŠ¤í™í„°ì—ì„œ ì§ì ‘ ë¬¸ìì—´ êµì²´ ê°€ëŠ¥  
- **ìƒíƒœ ì¶”ê°€** â†’ `PlayerBaseState` ìƒì† í›„ FSM ë“±ë¡  
- **ì¹´ë©”ë¼ ë¹„ì‚¬ìš© ëª¨ë“œ** â†’ Camera Transform ë¯¸í• ë‹¹ ì‹œ ì›”ë“œ ê¸°ì¤€ ì´ë™  
- **ì „ì—­ ì…ë ¥ ë§‰ê¸° (Cutscene ë“±)** â†’ `bool inputLocked` ì¶”ê°€ í›„ ì…ë ¥ í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬

---

## ğŸ§™ í¼í¬ë¨¼ìŠ¤ / ë””ìì¸ ë…¸íŠ¸

- ìƒíƒœë³„ë¡œ **ì±…ì„ ë¶„ë¦¬ (SRP)** ìœ ì§€ â†’ ì „ì´ ì¡°ê±´ì€ ê° ìƒíƒœ ë‚´ë¶€ì—ì„œë§Œ íŒì •.
- `CheckSphere` ì ‘ì§€ ë³´ì¡°ë¡œ ê³„ë‹¨/ê²½ì‚¬ ì•ˆì •í™”.
- Animator Bool one-hot êµ¬ì¡°ë¡œ ë””ë²„ê¹… ê°„ê²°.
- FSM ì „í™˜ + Animator ì „í™˜ì´ í•œ ì¤„ë¡œ ë™ê¸°í™”.

---

## ğŸ“¦ íŒ¨í‚¤ì§€í™” / ë°°í¬

### âœ… A. í”„ë¡œì íŠ¸ íŒ¨í‚¤ì§€ í´ë”
- `/Packages/com.yourorg.base-player/` ì— ë³µì‚¬í•˜ì—¬ ì‚¬ìš©.

### ğŸ§© B. Git íŒ¨í‚¤ì§€
1. ì €ì¥ì†Œë¥¼ Gitì— ì—…ë¡œë“œ  
2. Unity â†’ **Window â†’ Package Manager** â†’ `+` â†’ *Add package from Git URL...*  
3. `https://github.com/YourOrg/base-player.git` ì…ë ¥

> asmdefì™€ ìƒ˜í”Œ í”„ë¦¬íŒ¹ì„ í¬í•¨ì‹œí‚¤ë©´ UPM í˜¸í™˜ ì™„ë²½.

---

## ğŸ’¡ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

> **Q. BlendTree ê¼­ ì•ˆ ì¨ë„ ë¼ìš”?**  
> ë„¤. Bool one-hot ìŠ¤ìœ„ì¹­ë§Œìœ¼ë¡œ ì¶©ë¶„íˆ ë¶€ë“œëŸ½ìŠµë‹ˆë‹¤.

> **Q. ì œìë¦¬ ì í”„ ê°€ëŠ¥í•œê°€ìš”?**  
> ê°€ëŠ¥í•©ë‹ˆë‹¤. ì…ë ¥ ì—†ì„ ì‹œ ìˆ˜í‰ì†ë„ 0ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

> **Q. ê³„ë‹¨ ì²˜ë¦¬ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜ìš”?**  
> CharacterControllerì˜ ê¸°ë³¸ `stepOffset`, `slopeLimit`ë¡œ ì»¤ë²„í•©ë‹ˆë‹¤.

---

## ğŸ“œ ë¼ì´ì„ ìŠ¤ / í¬ë ˆë”§

íŒ€ / ì¡°ì§ í‘œì¤€ì— ë§ê²Œ `LICENSE` íŒŒì¼ì„ ì¶”ê°€í•˜ì„¸ìš”.  
README ë° ì½”ë“œ êµ¬ì¡°ëŠ” ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## ğŸ“ ì›ë³¸ íŒŒì¼ ëª©ë¡
- `Define.cs`  
- `BasePlayerController.cs`  
- `PlayerBaseState.cs`  
- `StateMachine.cs`  
- `IState.cs`, `IStateMachine.cs`  
- `IdleState.cs`, `MoveState.cs`, `JumpState.cs`, `FallState.cs`

---



